const SecretManager=(()=>{const e={ruma:{name:"I wanna Ruma - Extra",color:"#cc0000"},curveWAH:{name:"curveWAH",color:"#e06666"},oiia:{name:"I wanna OIIAOIIA",color:"#c67a5e"}},t=new Set(Object.values(e).map(e=>e.name));const n={rumaActive:!1,curveWAHActive:!1,oiiaAvailable:!1};let a=null;function r(){if(!c())return!1;const{column:e,input:t}=a.getSearchState();return"game"===e&&"I wanna Ruma"===t}function c(){return null!==a}return{init:function(e){a=e,document.addEventListener("mouseover",e=>{"TH"===e.target.tagName&&"#"===e.target.textContent&&r()&&(e.target.textContent="?")}),document.addEventListener("mouseout",e=>{"TH"===e.target.tagName&&"?"===e.target.textContent&&(e.target.textContent="#")}),document.addEventListener("click",e=>{"TH"===e.target.tagName&&"?"===e.target.textContent&&(n.rumaActive=!n.rumaActive,a.applyFilter())})},applySecrets:function(t,u,i){if(!c())return u;if(function(){if(!c())return;const{column:e,input:t}=a.getSearchState();n.oiiaAvailable="game"===e&&"I wanna be the Music2 - シュレーディンガーの猫《INFINITE》 Perfect"===t;const r=a.getColumnSelect();if(!r)return;const u=[...r.options].find(e=>"oiia-secret"===e.value);if(n.oiiaAvailable&&!u){const e=document.createElement("option");e.value="oiia-secret",e.textContent="????????",r.appendChild(e)}!n.oiiaAvailable&&u&&u.remove()}(),"oiia-secret"===t){return a.getColumnSelect().value="date",updateSearchPlaceholder(),i.filter(t=>t[1]===e.oiia.name)}if(n.rumaActive&&r())return i.filter(t=>t[1]===e.ruma.name);const{column:o,input:l}=a.getSearchState(),m=!l&&"date"===o;return n.curveWAHActive&&m?i.filter(t=>t[1]===e.curveWAH.name):u},toggleCurveWAH:function(){if(!c())return;n.curveWAHActive=!n.curveWAHActive;const e=a.getColumnSelect(),t=document.getElementById("search-input"),r=document.getElementById("country-select");e.value="date",t.value="",r.value="",a.applyFilter()},handlePlasmaHover:function(e,t){"curveWAH"===e.dataset.secret&&(e.textContent=t?"W":"M")},isSecretGame:function(e){return t.has(e)},getSecretGameNames:function(){return Array.from(t)},getSecretStyle:function(t){const n=Object.values(e).find(e=>e.name===t);return n?{backgroundColor:n.color,fontWeight:"700"}:null},resetSecrets:function(){n.rumaActive=!1,n.curveWAHActive=!1},isSecretModeActive:function(){return n.rumaActive||n.curveWAHActive}}})();
